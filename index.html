<!-- Save as index.html -->
<!DOCTYPE html>
<html>
<head>
  <title>AI Assistant</title>
  <style>
    body { font-family: sans-serif; background: #fff; color: #222; transition: background 0.3s, color 0.3s; }
    #chat { height: 300px; overflow-y: auto; border: 1px solid #ccc; padding: 10px; background: #fafafa; }
    #input { width: 80%; }
    .dark-mode {
      background: #181a1b !important;
      color: #eee !important;
    }
    .dark-mode #chat {
      background: #23272a !important;
      border-color: #444 !important;
      color: #eee !important;
    }
    .dark-mode input, .dark-mode button {
      background: #23272a !important;
      color: #eee !important;
      border-color: #444 !important;
    }
  </style>
</head>
<body>
  <h2>AI Assistant</h2>
  <button onclick="toggleDarkMode()" id="darkModeBtn">Enable Dark Mode</button>
  <input type="file" id="fileInput" accept=".json" style="display:none">
  <button onclick="document.getElementById('fileInput').click()">Load knowledge.json</button>
  <button onclick="downloadKnowledge()">Export knowledge.json</button>
  <div id="chat"></div>
  <input id="input" type="text" placeholder="Type your message..." autofocus>
  <button onclick="send()">Send</button>
  <script>
    // Default knowledge base
    const defaultKnowledge = {
  "hi": "Hi there! How are you doing?",
  "hello": "Hi there! How are you doing",
  "say uwu": "UwU",
  "what is php?": "PHP is the worst coding language on the planet, that is used for websites for only backend but it can be used for frontend(kinda).",
  "what is php": "PHP is the worst coding language on the planet, that is used for websites for only backend but it can be used for frontend(kinda).",
  "what is rizz": "Rizz is a slang word used by genZ and gen alpha and it is short for carisma.",
  "what is rizz?": "Rizz is a slang word used by genZ and gen alpha and it is short for carisma.",
  "i say hmm you say": "bo",
  "i say hmm you say?": "bo",
  "what is python": "Python is a popular, high-level programming language known for its readability and versatility.",
  "what is python?": "Python is a popular, high-level programming language known for its readability and versatility.",
  "tell me a joke": "Why don't scientists trust atoms? Because they make up everything!",
  "good morning": "Good morning! Hope you have a great day ahead!",
  "good night": "Good night! Sleep tight and dream big!",
  "how are you": "I'm just a program, but I'm functioning well! How about you?",
  "what's your name": "I'm an AI assistant here to help you out!",
  "who created you": "I was created by a developer called membercatcousin who wanted to make a helpful AI.",
  "what is ai": "AI stands for Artificial Intelligence, which is machines designed to think and learn like humans.",
  "what is ai?": "AI stands for Artificial Intelligence, which is machines designed to think and learn like humans.",
  "favorite color": "I don't have eyes, but if I had to choose, I'd say #00FFFF (that's cyan)!",
  "meaning of life": "42, according to The Hitchhiker's Guide to the Galaxy!",
  "how to learn coding": "Start with basics, practice daily, build projects, and don't be afraid to make mistakes!",
  "best programming language": "There's no 'best' language - it depends on what you want to do! Python is great for beginners though.",
  "what is javascript": "JavaScript is a programming language that makes websites interactive and dynamic.",
  "what is javascript?": "JavaScript is a programming language that makes websites interactive and dynamic.",
  "say something funny": "Why do programmers prefer dark mode? Because light attracts bugs!",
  "what time is it": "I don't have a clock, but you can check your device's time!",
  "thank you": "You're welcome! Happy to help!",
  "thanks": "No problem at all! Let me know if you need anything else.",
  "bye": "Goodbye! Come back if you have more questions!",
  "goodbye": "See you later! Have a great day!",
  "what is html": "HTML is the standard markup language for creating web pages and web applications.",
  "what is html?": "HTML is the standard markup language for creating web pages and web applications.",
  "what is css": "CSS is a style sheet language used for describing the presentation of a document written in HTML.",
  "what is css?": "CSS is a style sheet language used for describing the presentation of a document written in HTML.",
  "i'm bored": "Let me tell you a fun fact: A group of flamingos is called a 'flamboyance'!",
  "tell me a fact": "Honey never spoils. Archaeologists have found pots of honey in ancient Egyptian tombs that are over 3,000 years old and still perfectly good to eat!",
  "thank you": "You're welcome! *sends virtual cookies* üç™",
  "you're awesome": "No, YOU'RE awesome! (Ôæâ‚óï„ÉÆ‚óï)Ôæâ*:ÔΩ•Ôæü‚úß",
  "how to be happy": "Step 1: Pet a dog. Step 2: Eat snacks. Step 3: Repeat."
};

    // Load from localStorage or use default
    let knowledge = {};
    if (localStorage.getItem('knowledge')) {
      knowledge = JSON.parse(localStorage.getItem('knowledge'));
    } else {
      knowledge = {...defaultKnowledge};
      localStorage.setItem('knowledge', JSON.stringify(knowledge));
    }

    const chat = document.getElementById('chat');
    const input = document.getElementById('input');
    const fileInput = document.getElementById('fileInput');
    const darkModeBtn = document.getElementById('darkModeBtn');

    function addMessage(sender, text) {
      chat.innerHTML += `<b>${sender}:</b> ${text}<br>`;
      chat.scrollTop = chat.scrollHeight;
    }

    function send() {
      const userInput = input.value.trim().toLowerCase();
      if (!userInput) return;
      addMessage('You', userInput);
      input.value = '';

      // Special check for translate, in
      if (['translate', 'in'].every(word => userInput.includes(word))) {
        addMessage('AI', 'Please translate at https://translate.google.com');
        return;
      }

      if (knowledge[userInput]) {
        addMessage('AI', knowledge[userInput]);
      } else {
        const reply = prompt("I don't know how to respond to that. How should I reply?");
        if (reply) {
          knowledge[userInput] = reply;
          localStorage.setItem('knowledge', JSON.stringify(knowledge));
          addMessage('AI', "Got it! I'll remember that.");
        }
      }
    }

    input.addEventListener('keydown', function(e) {
      if (e.key === 'Enter') send();
    });

    // Load knowledge.json from file
    fileInput.addEventListener('change', function(event) {
      const file = event.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = function(e) {
        try {
          knowledge = JSON.parse(e.target.result);
          localStorage.setItem('knowledge', JSON.stringify(knowledge));
          addMessage('AI', "Knowledge loaded from file.");
        } catch {
          addMessage('AI', "Failed to load knowledge.json.");
        }
      };
      reader.readAsText(file);
    });

    // Export knowledge.json
    function downloadKnowledge() {
      const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(knowledge, null, 2));
      const dlAnchor = document.createElement('a');
      dlAnchor.setAttribute("href", dataStr);
      dlAnchor.setAttribute("download", "knowledge.json");
      document.body.appendChild(dlAnchor);
      dlAnchor.click();
      dlAnchor.remove();
    }

    // Dark mode toggle
    function toggleDarkMode() {
      document.body.classList.toggle('dark-mode');
      if (document.body.classList.contains('dark-mode')) {
        darkModeBtn.textContent = "Disable Dark Mode";
      } else {
        darkModeBtn.textContent = "Enable Dark Mode";
      }
    }
  </script>
</body>
</html>
